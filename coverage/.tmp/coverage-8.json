{"result":[{"scriptId":"315","url":"file:///media/seikarii/Nvme/gemini-cli/packages/core/src/mcp/oauth-provider.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":91920,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":91920,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":505,"endOffset":540,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":612,"endOffset":670,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":821,"endOffset":898,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":874,"endOffset":894,"count":0}],"isBlockCoverage":false},{"functionName":"createMockResponse","ranges":[{"startOffset":1454,"endOffset":2088,"count":18},{"startOffset":1731,"endOffset":1774,"count":4},{"startOffset":1807,"endOffset":1919,"count":17},{"startOffset":1900,"endOffset":1914,"count":0},{"startOffset":1952,"endOffset":2066,"count":14},{"startOffset":2009,"endOffset":2023,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":1536,"endOffset":1686,"count":13},{"startOffset":1638,"endOffset":1645,"count":0},{"startOffset":1656,"endOffset":1685,"count":0}],"isBlockCoverage":true},{"functionName":"response.text","ranges":[{"startOffset":1864,"endOffset":1899,"count":13}],"isBlockCoverage":true},{"functionName":"response.json","ranges":[{"startOffset":2026,"endOffset":2061,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2290,"endOffset":31102,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3066,"endOffset":4483,"count":19}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3231,"endOffset":3244,"count":122}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3318,"endOffset":3331,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3406,"endOffset":3419,"count":8}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3506,"endOffset":3698,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":4020,"endOffset":4258,"count":22},{"startOffset":4055,"endOffset":4218,"count":11},{"startOffset":4218,"endOffset":4257,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4524,"endOffset":4583,"count":19}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4639,"endOffset":16088,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4728,"endOffset":6555,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4856,"endOffset":4944,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4994,"endOffset":5439,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5057,"endOffset":5425,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6659,"endOffset":9360,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7941,"endOffset":8029,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8079,"endOffset":8524,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8142,"endOffset":8510,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9469,"endOffset":12057,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10757,"endOffset":10845,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10895,"endOffset":11340,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10958,"endOffset":11326,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12132,"endOffset":13042,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12260,"endOffset":12348,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12398,"endOffset":12852,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12461,"endOffset":12838,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13122,"endOffset":14019,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13250,"endOffset":13338,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13388,"endOffset":13818,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13451,"endOffset":13804,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14095,"endOffset":15284,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14223,"endOffset":14311,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14361,"endOffset":14806,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14424,"endOffset":14792,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15354,"endOffset":16082,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15464,"endOffset":15484,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15541,"endOffset":15592,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15701,"endOffset":15850,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16150,"endOffset":18758,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16228,"endOffset":17392,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17494,"endOffset":18063,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":18138,"endOffset":18752,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":18815,"endOffset":23931,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":18902,"endOffset":19594,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":19683,"endOffset":21145,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21229,"endOffset":21543,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21637,"endOffset":23050,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":23145,"endOffset":23925,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24000,"endOffset":25416,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24082,"endOffset":25410,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24210,"endOffset":24298,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24348,"endOffset":24793,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24411,"endOffset":24779,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":25486,"endOffset":31098,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":25589,"endOffset":27575,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":25675,"endOffset":25754,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":25871,"endOffset":25959,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":26009,"endOffset":26454,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":26072,"endOffset":26440,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27703,"endOffset":29376,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27789,"endOffset":27870,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27987,"endOffset":28075,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":28125,"endOffset":28570,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":28188,"endOffset":28556,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29475,"endOffset":31092,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29561,"endOffset":29642,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29759,"endOffset":29847,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29897,"endOffset":30342,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29960,"endOffset":30328,"count":1}],"isBlockCoverage":true}],"startOffset":209},{"scriptId":"317","url":"file:///media/seikarii/Nvme/gemini-cli/packages/core/src/mcp/oauth-provider.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":78135,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":78135,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":253,"endOffset":303,"count":19},{"startOffset":293,"endOffset":301,"count":0}],"isBlockCoverage":true},{"functionName":"<static_initializer>","ranges":[{"startOffset":1233,"endOffset":23855,"count":1}],"isBlockCoverage":true},{"functionName":"registerClient","ranges":[{"startOffset":1570,"endOffset":2529,"count":1},{"startOffset":1661,"endOffset":1725,"count":0},{"startOffset":2075,"endOffset":2080,"count":0},{"startOffset":2309,"endOffset":2490,"count":0}],"isBlockCoverage":true},{"functionName":"discoverOAuthFromMCPServer","ranges":[{"startOffset":2722,"endOffset":2853,"count":1}],"isBlockCoverage":true},{"functionName":"generatePKCEParams","ranges":[{"startOffset":3002,"endOffset":3355,"count":11}],"isBlockCoverage":true},{"functionName":"startCallbackServer","ranges":[{"startOffset":3561,"endOffset":6242,"count":11}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3627,"endOffset":6236,"count":11}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3715,"endOffset":5867,"count":10},{"startOffset":3954,"endOffset":4061,"count":0},{"startOffset":4255,"endOffset":4894,"count":1},{"startOffset":4601,"endOffset":4606,"count":0},{"startOffset":4894,"endOffset":4927,"count":9},{"startOffset":4929,"endOffset":5058,"count":0},{"startOffset":5058,"endOffset":5101,"count":9},{"startOffset":5101,"endOffset":5326,"count":1},{"startOffset":5326,"endOffset":5775,"count":8},{"startOffset":5775,"endOffset":5857,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5951,"endOffset":6072,"count":11}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6101,"endOffset":6199,"count":2}],"isBlockCoverage":true},{"functionName":"buildAuthorizationUrl","ranges":[{"startOffset":6515,"endOffset":7716,"count":11},{"startOffset":6616,"endOffset":6680,"count":0},{"startOffset":7206,"endOffset":7524,"count":2},{"startOffset":7364,"endOffset":7518,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7617,"endOffset":7683,"count":90}],"isBlockCoverage":true},{"functionName":"exchangeCodeForToken","ranges":[{"startOffset":8017,"endOffset":11191,"count":8},{"startOffset":8131,"endOffset":8195,"count":0},{"startOffset":8645,"endOffset":9002,"count":2},{"startOffset":8842,"endOffset":8996,"count":0},{"startOffset":9382,"endOffset":9387,"count":0},{"startOffset":9411,"endOffset":9919,"count":1},{"startOffset":9738,"endOffset":9757,"count":0},{"startOffset":9779,"endOffset":9794,"count":0},{"startOffset":9840,"endOffset":9904,"count":0},{"startOffset":9919,"endOffset":9971,"count":7},{"startOffset":9971,"endOffset":10032,"count":0},{"startOffset":10034,"endOffset":10241,"count":0},{"startOffset":10241,"endOffset":10298,"count":7},{"startOffset":10298,"endOffset":11187,"count":0}],"isBlockCoverage":true},{"functionName":"refreshAccessToken","ranges":[{"startOffset":11510,"endOffset":14601,"count":5},{"startOffset":12096,"endOffset":12414,"count":0},{"startOffset":12787,"endOffset":12792,"count":0},{"startOffset":12816,"endOffset":13322,"count":2},{"startOffset":13142,"endOffset":13161,"count":0},{"startOffset":13183,"endOffset":13198,"count":0},{"startOffset":13244,"endOffset":13307,"count":0},{"startOffset":13322,"endOffset":13374,"count":3},{"startOffset":13374,"endOffset":13435,"count":0},{"startOffset":13437,"endOffset":13652,"count":0},{"startOffset":13652,"endOffset":13709,"count":3},{"startOffset":13709,"endOffset":14597,"count":0}],"isBlockCoverage":true},{"functionName":"authenticate","ranges":[{"startOffset":14888,"endOffset":21642,"count":11},{"startOffset":14976,"endOffset":14991,"count":1},{"startOffset":14993,"endOffset":17052,"count":1},{"startOffset":15225,"endOffset":15257,"count":0},{"startOffset":15432,"endOffset":16181,"count":0},{"startOffset":16190,"endOffset":16369,"count":0},{"startOffset":16729,"endOffset":16745,"count":0},{"startOffset":16746,"endOffset":16751,"count":0},{"startOffset":16912,"endOffset":17038,"count":0},{"startOffset":17080,"endOffset":18525,"count":1},{"startOffset":17118,"endOffset":17237,"count":0},{"startOffset":17819,"endOffset":17946,"count":0},{"startOffset":18395,"endOffset":18519,"count":0},{"startOffset":18601,"endOffset":18720,"count":0},{"startOffset":19832,"endOffset":19988,"count":0},{"startOffset":20033,"endOffset":20252,"count":8},{"startOffset":20252,"endOffset":20290,"count":7},{"startOffset":20290,"endOffset":20368,"count":0},{"startOffset":20368,"endOffset":20479,"count":7},{"startOffset":20479,"endOffset":20490,"count":0},{"startOffset":20615,"endOffset":21063,"count":7},{"startOffset":21063,"endOffset":21082,"count":0},{"startOffset":21083,"endOffset":21114,"count":0},{"startOffset":21116,"endOffset":21336,"count":0},{"startOffset":21336,"endOffset":21462,"count":7},{"startOffset":21469,"endOffset":21619,"count":0},{"startOffset":21619,"endOffset":21641,"count":7}],"isBlockCoverage":true},{"functionName":"getValidToken","ranges":[{"startOffset":21896,"endOffset":23853,"count":5},{"startOffset":22123,"endOffset":22220,"count":1},{"startOffset":22220,"endOffset":22482,"count":4},{"startOffset":22482,"endOffset":22593,"count":1},{"startOffset":22593,"endOffset":22622,"count":3},{"startOffset":22622,"endOffset":22640,"count":2},{"startOffset":22641,"endOffset":22664,"count":2},{"startOffset":22666,"endOffset":23831,"count":2},{"startOffset":22948,"endOffset":23135,"count":1},{"startOffset":23135,"endOffset":23156,"count":0},{"startOffset":23198,"endOffset":23212,"count":1},{"startOffset":23265,"endOffset":23825,"count":1},{"startOffset":23831,"endOffset":23852,"count":2}],"isBlockCoverage":true}],"startOffset":209},{"scriptId":"318","url":"file:///media/seikarii/Nvme/gemini-cli/packages/core/src/mcp/oauth-token-storage.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":15606,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":15606,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":257,"endOffset":311,"count":1},{"startOffset":301,"endOffset":309,"count":0}],"isBlockCoverage":true},{"functionName":"getTokenFilePath","ranges":[{"startOffset":992,"endOffset":1082,"count":0}],"isBlockCoverage":false},{"functionName":"ensureConfigDir","ranges":[{"startOffset":1145,"endOffset":1332,"count":0}],"isBlockCoverage":false},{"functionName":"loadTokens","ranges":[{"startOffset":1449,"endOffset":2037,"count":0}],"isBlockCoverage":false},{"functionName":"saveToken","ranges":[{"startOffset":2370,"endOffset":3171,"count":0}],"isBlockCoverage":false},{"functionName":"getToken","ranges":[{"startOffset":3350,"endOffset":3469,"count":0}],"isBlockCoverage":false},{"functionName":"removeToken","ranges":[{"startOffset":3593,"endOffset":4269,"count":0}],"isBlockCoverage":false},{"functionName":"isTokenExpired","ranges":[{"startOffset":4410,"endOffset":4580,"count":0}],"isBlockCoverage":false},{"functionName":"clearAllTokens","ranges":[{"startOffset":4642,"endOffset":4996,"count":0}],"isBlockCoverage":false}],"startOffset":209},{"scriptId":"319","url":"file:///media/seikarii/Nvme/gemini-cli/packages/core/src/config/storage.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11959,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":11959,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":247,"endOffset":291,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":346,"endOffset":404,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":442,"endOffset":483,"count":0}],"isBlockCoverage":false},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":984,"endOffset":4075,"count":0}],"isBlockCoverage":true}],"startOffset":209},{"scriptId":"321","url":"file:///media/seikarii/Nvme/gemini-cli/packages/core/src/utils/errors.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5919,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":5919,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":248,"endOffset":293,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":339,"endOffset":388,"count":1},{"startOffset":378,"endOffset":386,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":433,"endOffset":481,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":529,"endOffset":580,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":626,"endOffset":675,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":721,"endOffset":770,"count":0}],"isBlockCoverage":false},{"functionName":"isNodeError","ranges":[{"startOffset":861,"endOffset":944,"count":0}],"isBlockCoverage":false},{"functionName":"getErrorMessage","ranges":[{"startOffset":946,"endOffset":1136,"count":1},{"startOffset":1041,"endOffset":1134,"count":0}],"isBlockCoverage":true},{"functionName":"toFriendlyError","ranges":[{"startOffset":1262,"endOffset":1821,"count":0}],"isBlockCoverage":false},{"functionName":"parseResponseData","ranges":[{"startOffset":1823,"endOffset":1991,"count":0}],"isBlockCoverage":false}],"startOffset":209},{"scriptId":"322","url":"file:///media/seikarii/Nvme/gemini-cli/packages/core/src/mcp/oauth-utils.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":30225,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":30225,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":247,"endOffset":291,"count":7},{"startOffset":281,"endOffset":289,"count":0}],"isBlockCoverage":true},{"functionName":"buildWellKnownUrls","ranges":[{"startOffset":762,"endOffset":1578,"count":1},{"startOffset":1230,"endOffset":1577,"count":0}],"isBlockCoverage":true},{"functionName":"fetchProtectedResourceMetadata","ranges":[{"startOffset":1790,"endOffset":2224,"count":1},{"startOffset":1941,"endOffset":1971,"count":0},{"startOffset":2015,"endOffset":2220,"count":0}],"isBlockCoverage":true},{"functionName":"fetchAuthorizationServerMetadata","ranges":[{"startOffset":2444,"endOffset":2888,"count":2},{"startOffset":2601,"endOffset":2631,"count":0},{"startOffset":2675,"endOffset":2884,"count":0}],"isBlockCoverage":true},{"functionName":"metadataToOAuthConfig","ranges":[{"startOffset":3075,"endOffset":3276,"count":1},{"startOffset":3260,"endOffset":3265,"count":0}],"isBlockCoverage":true},{"functionName":"discoverOAuthConfig","ranges":[{"startOffset":3501,"endOffset":6259,"count":1},{"startOffset":3771,"endOffset":4085,"count":0},{"startOffset":4348,"endOffset":4375,"count":0},{"startOffset":4736,"endOffset":4753,"count":0},{"startOffset":4755,"endOffset":5081,"count":0},{"startOffset":5249,"endOffset":5420,"count":0},{"startOffset":5464,"endOffset":6255,"count":0}],"isBlockCoverage":true},{"functionName":"parseWWWAuthenticateHeader","ranges":[{"startOffset":6453,"endOffset":6620,"count":0}],"isBlockCoverage":false},{"functionName":"discoverOAuthFromWWWAuthenticate","ranges":[{"startOffset":6847,"endOffset":8214,"count":0}],"isBlockCoverage":false},{"functionName":"extractBaseUrl","ranges":[{"startOffset":8358,"endOffset":8492,"count":0}],"isBlockCoverage":false},{"functionName":"isSSEEndpoint","ranges":[{"startOffset":8652,"endOffset":8734,"count":1}],"isBlockCoverage":true},{"functionName":"buildResourceParameter","ranges":[{"startOffset":8897,"endOffset":9019,"count":4}],"isBlockCoverage":true}],"startOffset":209}]}